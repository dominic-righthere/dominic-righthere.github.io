(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3348,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function n({text:e}){let[n,a]=(0,r.useState)(!1),l=async()=>{await navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)};return(0,t.jsx)("button",{onClick:l,className:"absolute right-2 top-2 rounded bg-neutral-200 px-2 py-1 text-xs text-neutral-600 opacity-0 transition-opacity group-hover:opacity-100 hover:bg-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-600","aria-label":"Copy code",children:n?"Copied!":"Copy"})}e.s(["CopyButton",()=>n])},35949,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(46932),a=e.i(88653);let l=[{name:"NODE_ENV",value:"development",level:"full",description:"Non-sensitive config"},{name:"PORT",value:"3000",level:"full",description:"Server port"},{name:"DATABASE_URL",value:"postgres://user:pass@localhost:5432/db",level:"read-only",description:"Database connection"},{name:"OPENAI_API_KEY",value:"sk-proj-abc123xyz789",level:"placeholder",description:"API key for OpenAI"},{name:"STRIPE_SECRET_KEY",value:"sk_live_51abc123xyz",level:"hidden",description:"Payment processing"}],o={full:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400","read-only":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",placeholder:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400","schema-only":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",hidden:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},i={full:{canSee:"Actual value",canModify:"Yes"},"read-only":{canSee:"Actual value",canModify:"No"},placeholder:{canSee:"<VAR_NAME>",canModify:"No"},"schema-only":{canSee:"Format only",canModify:"No"},hidden:{canSee:"Nothing",canModify:"No"}};function s(){let[e,s]=(0,r.useState)("all"),d="all"===e?l:l.filter(t=>t.level===e);return(0,t.jsxs)("div",{className:"my-8 rounded-xl border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-900 p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,t.jsx)("h3",{className:"font-medium text-neutral-900 dark:text-neutral-100 mb-3",children:"What does the AI see?"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>s("all"),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${"all"===e?"bg-neutral-900 text-white dark:bg-white dark:text-neutral-900":"bg-neutral-200 text-neutral-700 dark:bg-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"}`,children:"All Levels"}),["full","read-only","placeholder","hidden"].map(r=>(0,t.jsx)("button",{onClick:()=>s(r),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${e===r?o[r]:"bg-neutral-200 text-neutral-700 dark:bg-neutral-700 dark:text-neutral-300 hover:bg-neutral-300 dark:hover:bg-neutral-600"}`,children:r},r))]})]}),(0,t.jsxs)("div",{className:"p-4 bg-neutral-900 dark:bg-black font-mono text-sm",children:[(0,t.jsx)("div",{className:"text-neutral-500 mb-2",children:"# .env.ai (what AI sees)"}),(0,t.jsx)(a.AnimatePresence,{mode:"popLayout",children:d.map(e=>{let r=function(e){switch(e.level){case"full":case"read-only":return e.value;case"placeholder":return`<${e.name}>`;case"schema-only":return"[format: string]";case"hidden":return null}}(e);return(0,t.jsx)(n.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:null!==r?(0,t.jsxs)("div",{className:"flex items-center gap-2 py-1",children:[(0,t.jsx)("span",{className:"text-blue-400",children:e.name}),(0,t.jsx)("span",{className:"text-neutral-500",children:"="}),(0,t.jsx)("span",{className:"placeholder"===e.level?"text-yellow-400":"text-green-400",children:r}),(0,t.jsx)("span",{className:`ml-2 px-1.5 py-0.5 rounded text-xs ${o[e.level]}`,children:e.level})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 py-1 text-neutral-600",children:[(0,t.jsx)("span",{className:"line-through",children:e.name}),(0,t.jsx)("span",{className:`ml-2 px-1.5 py-0.5 rounded text-xs ${o[e.level]}`,children:"hidden"})]})},e.name)})})]}),"all"!==e&&"schema-only"!==e&&(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 bg-neutral-50 dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800",children:(0,t.jsxs)("div",{className:"flex gap-6 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"AI can see:"})," ",(0,t.jsx)("span",{className:"font-medium",children:i[e].canSee})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"AI can modify:"})," ",(0,t.jsx)("span",{className:"font-medium",children:i[e].canModify})]})]})})]})}e.s(["AccessLevelDemo",()=>s])},90421,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function n(e,t){var r;let n=null==(r=e.screen_content[0])?void 0:r.trim();return n&&n===t.trim()?{...e,screen_content:e.screen_content.slice(1),cursor_position:[Math.max(0,e.cursor_position[0]-1),e.cursor_position[1]]}:e}function a(e,t){for(let r=e.length-1;r>=0;r--)if(t>=e[r].startTime)return r;return 0}let l=[{regex:/^(➜\s+)(\S+)(\s+)(.*)$/,styles:["cyan","green",null,"foreground"]},{regex:/^(➜\s+)(\S+)(\s*)$/,styles:["cyan","green",null]},{regex:/^(\S+@\S+):([^$]+)(\$\s*)(.*)$/,styles:["green","blue","foreground","foreground"]},{regex:/^(\$\s+)(.*)$/,styles:["green","foreground"]}];function o({snapshot:e,theme:n,dimensions:a,fontSize:l=14,fontFamily:o='"SF Mono", "Fira Code", "JetBrains Mono", Menlo, Monaco, "Cascadia Code", Consolas, monospace',showCursor:d=!0,cursorStyle:c="block",typingText:u,isTyping:g=!1}){let[h,m]=a,f=Math.round(1.4*l),[p,b]=(0,r.useState)(.6*l);(0,r.useEffect)(()=>{let e=document.createElement("canvas").getContext("2d");e&&(e.font=`${l}px ${o.split(",")[0].replace(/"/g,"")}`,b(e.measureText("M").width))},[l,o]);let x={backgroundColor:n.background,color:n.foreground,fontFamily:o,fontSize:`${l}px`,lineHeight:`${f}px`,width:`${h*p+32}px`,maxWidth:"100%",minHeight:`${m*f+24}px`,padding:"12px 16px",overflowX:"auto",overflowY:"hidden",fontVariantLigatures:"none",fontFeatureSettings:'"liga" 0, "calt" 0',WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",letterSpacing:"0",tabSize:4};if(!e)return(0,t.jsx)("div",{className:"reterm-terminal",style:x});let[y,v]=e.cursor_position;return(0,t.jsx)("div",{className:"reterm-terminal",style:x,children:e.screen_content.map((e,r)=>(0,t.jsx)("div",{className:"reterm-line",style:{whiteSpace:"pre",height:`${f}px`},children:function(e,r,n,a,l,o,d,c,u,g){if(void 0!==g&&r===n){let r=e.slice(0,a),n=r.length>0&&!r.endsWith(" ")&&g.length>0,h=i(r,l);return(0,t.jsxs)(t.Fragment,{children:[h,n&&" ",(0,t.jsx)("span",{style:{color:l.foreground},children:g}),o&&s(" ",d,l,c,u)]})}let h=e.padEnd(Math.max(e.length,a+1));if(!o||r!==n)return i(h||" ",l);let m=h.slice(0,a),f=h[a]||" ",p=h.slice(a+1),b=i(m,l);return(0,t.jsxs)(t.Fragment,{children:[b,s(f,d,l,c,u),p]})}(e,r,y,v,n,d,c,p,f,g&&r===y?u:void 0)},r))})}function i(e,r){if(!e||" "===e)return e;for(let n of l){let a=e.match(n.regex);if(a)return(0,t.jsx)(t.Fragment,{children:a.slice(1).map((e,a)=>{if(!e)return null;let l=n.styles[a],o=l?r[l]||r.foreground:void 0;return(0,t.jsx)("span",{style:o?{color:o}:void 0,children:e},a)})})}return e}function s(e,r,n,a,l){let o={display:"inline-block",animation:"reterm-blink 1s step-end infinite"};switch(r){case"block":return(0,t.jsx)("span",{className:"reterm-cursor",style:{...o,backgroundColor:n.cursor,color:n.background,width:`${a}px`},children:e});case"underline":return(0,t.jsx)("span",{className:"reterm-cursor",style:{...o,borderBottom:`2px solid ${n.cursor}`,width:`${a}px`},children:e});case"bar":return(0,t.jsxs)("span",{className:"reterm-cursor",style:{position:"relative",display:"inline-block"},children:[(0,t.jsx)("span",{style:{...o,position:"absolute",left:0,top:"2px",width:"2px",height:`${l-4}px`,backgroundColor:n.cursor}}),e]})}}function d({title:e="Terminal",theme:r,children:n}){var a;let l,o,i,s,d=r.titleBar||(a=r.background,o=Math.max(0,Math.floor(((l=parseInt(a.replace("#",""),16))>>16)*.9)),i=Math.max(0,Math.floor((l>>8&255)*.9)),s=Math.max(0,Math.floor((255&l)*.9)),`#${(o<<16|i<<8|s).toString(16).padStart(6,"0")}`),u=r.titleText||r.foreground+"99";return(0,t.jsxs)("div",{className:"reterm-window",style:{borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.05)"},children:[(0,t.jsxs)("div",{className:"reterm-titlebar",style:{background:d,padding:"10px 14px",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid rgba(0, 0, 0, 0.2)"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,t.jsx)(c,{color:"#ff5f57",hoverColor:"#ff3b30"}),(0,t.jsx)(c,{color:"#febc2e",hoverColor:"#ffcc00"}),(0,t.jsx)(c,{color:"#28c840",hoverColor:"#00c853"})]}),(0,t.jsx)("span",{style:{flex:1,textAlign:"center",color:u,fontSize:"13px",fontWeight:500,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',letterSpacing:"0.01em",userSelect:"none"},children:e}),(0,t.jsx)("div",{style:{width:"52px"}})]}),n]})}function c({color:e,hoverColor:r}){return(0,t.jsx)("span",{style:{width:"12px",height:"12px",borderRadius:"50%",background:e,boxShadow:"inset 0 0 0 0.5px rgba(0, 0, 0, 0.15), 0 1px 1px rgba(0, 0, 0, 0.1)",cursor:"default",transition:"background 0.15s ease"},onMouseEnter:e=>e.currentTarget.style.background=r,onMouseLeave:t=>t.currentTarget.style.background=e})}function u({value:e,onChange:r,theme:n}){let a=e=>{let t=e.currentTarget.getBoundingClientRect();r(Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)))};return(0,t.jsxs)("div",{className:"reterm-progress",onClick:a,onMouseMove:e=>{1===e.buttons&&a(e)},style:{flex:1,height:"6px",backgroundColor:`${n.foreground}33`,borderRadius:"3px",cursor:"pointer",position:"relative",margin:"0 8px"},children:[(0,t.jsx)("div",{className:"reterm-progress-fill",style:{width:`${100*e}%`,height:"100%",backgroundColor:n.foreground,borderRadius:"3px",transition:"width 0.05s linear"}}),(0,t.jsx)("div",{className:"reterm-progress-handle",style:{position:"absolute",left:`${100*e}%`,top:"50%",transform:"translate(-50%, -50%)",width:"12px",height:"12px",backgroundColor:n.foreground,borderRadius:"50%",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"}})]})}function g({isPlaying:e,progress:r,currentTime:n,totalDuration:a,speed:l,theme:o,onToggle:i,onSeek:s,onSpeedChange:d}){let c=e=>{let t=Math.floor(e/1e3),r=Math.floor(t/60);return`${r}:${(t%60).toString().padStart(2,"0")}`};return(0,t.jsxs)("div",{className:"reterm-controls",style:{display:"flex",alignItems:"center",padding:"8px 12px",backgroundColor:`${o.background}ee`,borderRadius:"0 0 8px 8px",gap:"8px"},children:[(0,t.jsx)("button",{onClick:i,className:"reterm-play-button",style:{width:"32px",height:"32px",border:"none",borderRadius:"50%",backgroundColor:o.foreground,color:o.background,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},"aria-label":e?"Pause":"Play",children:e?(0,t.jsx)(m,{color:o.background}):(0,t.jsx)(h,{color:o.background})}),(0,t.jsxs)("span",{className:"reterm-time",style:{color:o.foreground,fontSize:"12px",fontFamily:"ui-monospace, monospace",minWidth:"80px"},children:[c(n)," / ",c(a)]}),(0,t.jsx)(u,{value:r,onChange:s,theme:o}),(0,t.jsxs)("select",{value:l,onChange:e=>d(Number(e.target.value)),className:"reterm-speed",style:{backgroundColor:"transparent",color:o.foreground,border:`1px solid ${o.foreground}44`,borderRadius:"4px",padding:"4px 8px",fontSize:"12px",cursor:"pointer"},"aria-label":"Playback speed",children:[(0,t.jsx)("option",{value:.25,children:"0.25x"}),(0,t.jsx)("option",{value:.5,children:"0.5x"}),(0,t.jsx)("option",{value:1,children:"1x"}),(0,t.jsx)("option",{value:1.5,children:"1.5x"}),(0,t.jsx)("option",{value:2,children:"2x"}),(0,t.jsx)("option",{value:3,children:"3x"})]})]})}function h({color:e}){return(0,t.jsx)("svg",{width:"12",height:"14",viewBox:"0 0 12 14",fill:e,children:(0,t.jsx)("path",{d:"M0 0L12 7L0 14V0Z"})})}function m({color:e}){return(0,t.jsxs)("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:e,children:[(0,t.jsx)("rect",{x:"0",y:"0",width:"3",height:"12"}),(0,t.jsx)("rect",{x:"7",y:"0",width:"3",height:"12"})]})}let f={dracula:{name:"dracula",background:"#282a36",foreground:"#f8f8f2",cursor:"#f8f8f2",black:"#21222c",red:"#ff5555",green:"#50fa7b",yellow:"#f1fa8c",blue:"#bd93f9",magenta:"#ff79c6",cyan:"#8be9fd",white:"#f8f8f2",brightBlack:"#6272a4",brightRed:"#ff6e6e",brightGreen:"#69ff94",brightYellow:"#ffffa5",brightBlue:"#d6acff",brightMagenta:"#ff92df",brightCyan:"#a4ffff",brightWhite:"#ffffff",titleBar:"#21222c",titleText:"#6272a4"},nord:{name:"nord",background:"#2e3440",foreground:"#d8dee9",cursor:"#d8dee9",black:"#3b4252",red:"#bf616a",green:"#a3be8c",yellow:"#ebcb8b",blue:"#81a1c1",magenta:"#b48ead",cyan:"#88c0d0",white:"#e5e9f0",brightBlack:"#4c566a",brightRed:"#bf616a",brightGreen:"#a3be8c",brightYellow:"#ebcb8b",brightBlue:"#81a1c1",brightMagenta:"#b48ead",brightCyan:"#8fbcbb",brightWhite:"#eceff4",titleBar:"#242933",titleText:"#4c566a"},monokai:{name:"monokai",background:"#272822",foreground:"#f8f8f2",cursor:"#f8f8f2",black:"#272822",red:"#f92672",green:"#a6e22e",yellow:"#f4bf75",blue:"#66d9ef",magenta:"#ae81ff",cyan:"#a1efe4",white:"#f8f8f2",brightBlack:"#75715e",brightRed:"#f92672",brightGreen:"#a6e22e",brightYellow:"#f4bf75",brightBlue:"#66d9ef",brightMagenta:"#ae81ff",brightCyan:"#a1efe4",brightWhite:"#f9f8f5",titleBar:"#1e1f1c",titleText:"#75715e"},"solarized-dark":{name:"solarized-dark",background:"#002b36",foreground:"#839496",cursor:"#839496",black:"#073642",red:"#dc322f",green:"#859900",yellow:"#b58900",blue:"#268bd2",magenta:"#d33682",cyan:"#2aa198",white:"#eee8d5",brightBlack:"#002b36",brightRed:"#cb4b16",brightGreen:"#586e75",brightYellow:"#657b83",brightBlue:"#839496",brightMagenta:"#6c71c4",brightCyan:"#93a1a1",brightWhite:"#fdf6e3",titleBar:"#00212b",titleText:"#586e75"},"github-dark":{name:"github-dark",background:"#0d1117",foreground:"#c9d1d9",cursor:"#c9d1d9",black:"#484f58",red:"#ff7b72",green:"#3fb950",yellow:"#d29922",blue:"#58a6ff",magenta:"#bc8cff",cyan:"#39c5cf",white:"#b1bac4",brightBlack:"#6e7681",brightRed:"#ffa198",brightGreen:"#56d364",brightYellow:"#e3b341",brightBlue:"#79c0ff",brightMagenta:"#d2a8ff",brightCyan:"#56d4dd",brightWhite:"#f0f6fc",titleBar:"#010409",titleText:"#6e7681"},"one-dark":{name:"one-dark",background:"#282c34",foreground:"#abb2bf",cursor:"#528bff",black:"#1e2127",red:"#e06c75",green:"#98c379",yellow:"#d19a66",blue:"#61afef",magenta:"#c678dd",cyan:"#56b6c2",white:"#abb2bf",brightBlack:"#5c6370",brightRed:"#e06c75",brightGreen:"#98c379",brightYellow:"#d19a66",brightBlue:"#61afef",brightMagenta:"#c678dd",brightCyan:"#56b6c2",brightWhite:"#ffffff",titleBar:"#21252b",titleText:"#5c6370"}};function p({data:e,src:l,autoPlay:i=!1,loop:s=!1,speed:c=1,theme:u,showControls:h=!0,fontSize:m=14,fontFamily:p,showCursor:x=!0,cursorStyle:y="block",typingSpeed:v=50,showWindowFrame:k=!0,title:j,onComplete:w,onLoad:T,onError:S,className:C,style:N}){var _;let{recording:M,loading:$,error:B}=function({data:e,src:t}){let[n,a]=(0,r.useState)(e??null),[l,o]=(0,r.useState)(!!t&&!e),[i,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&(a(e),o(!1),s(null))},[e]),(0,r.useEffect)(()=>{if(!t||e)return;let r=!1;return o(!0),s(null),fetch(t).then(e=>{if(!e.ok)throw Error(`Failed to fetch recording: ${e.status} ${e.statusText}`);return e.json()}).then(e=>{r||(a(e),o(!1))}).catch(e=>{r||(s(e),o(!1))}),()=>{r=!0}},[t,e]),{recording:n,loading:l,error:i}}({data:e,src:l}),P=function(e,t={}){let l,{speed:o=1,loop:i=!1,autoPlay:s=!1,onComplete:d,typingSpeed:c=50}=t,[u,g]=(0,r.useState)({isPlaying:!1,currentIndex:0,currentTime:0,totalDuration:0,speed:o}),h=(0,r.useMemo)(()=>(function(e,t=50){if(!e)return[];let r=[],a=0;for(let l=0;l<e.commands.length;l++){let o=e.commands[l];if(o.terminal_before&&o.command){let i=o.terminal_before;if(0===l&&o.terminal_before.screen_content.every(e=>""===e.trim())&&o.terminal_after){let e=function(e){for(let t of e.screen_content){let e=t.match(/^(➜\s+\S+)/);if(e)return e[1]}return null}(o.terminal_after);e&&(i={...o.terminal_before,screen_content:[e,...o.terminal_before.screen_content.slice(1)],cursor_position:[0,e.length]})}if(l>0){let t=e.commands[l-1];null!=t&&t.command&&(i=n(i,t.command))}let s=o.command.length*t;r.push({snapshot:i,startTime:a,duration:s,typingCommand:o.command,typingDuration:s,isTyping:!0}),a+=s+100}let i=o.intermediate_snapshots||[];if(i.length>0&&o.terminal_after){let e=(o.duration_ms||500)/(i.length+1);for(let t of i){let l=o.command?n(t,o.command):t;r.push({snapshot:l,startTime:a,duration:e,isTyping:!1}),a+=e}let t=o.command?n(o.terminal_after,o.command):o.terminal_after;r.push({snapshot:t,startTime:a,duration:e,isTyping:!1}),a+=e}else if(o.terminal_after){let e=o.command?n(o.terminal_after,o.command):o.terminal_after,t=o.duration_ms||500;r.push({snapshot:e,startTime:a,duration:t,isTyping:!1}),a+=t}}if(e.final_terminal_state&&r.length>0){let t=r[r.length-1];e.final_terminal_state.timestamp!==t.snapshot.timestamp&&r.push({snapshot:e.final_terminal_state,startTime:a,duration:500,isTyping:!1})}return r})(e,c),[e,c]),m=(0,r.useRef)(null),f=(0,r.useRef)(0);(0,r.useEffect)(()=>{if(h.length>0){let e=h[h.length-1],t=e.startTime+e.duration;g(e=>({...e,totalDuration:t}))}else g(e=>({...e,totalDuration:0}))},[h]),(0,r.useEffect)(()=>{s&&h.length>0&&g(e=>({...e,isPlaying:!0}))},[s,h.length]),(0,r.useEffect)(()=>{let e;if(!u.isPlaying||0===h.length)return;let t=r=>{null===m.current&&(m.current=r-f.current);let n=Math.min((r-m.current)*u.speed,u.totalDuration),l=a(h,n);if(g(e=>({...e,currentTime:n,currentIndex:l})),n>=u.totalDuration)if(i)m.current=null,f.current=0,g(e=>({...e,currentTime:0,currentIndex:0}));else{g(e=>({...e,isPlaying:!1})),null==d||d();return}e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{cancelAnimationFrame(e)}},[u.isPlaying,u.speed,u.totalDuration,h,i,d]);let p=(0,r.useCallback)(()=>{m.current=null,g(e=>({...e,isPlaying:!0}))},[]),b=(0,r.useCallback)(()=>{f.current=u.currentTime,m.current=null,g(e=>({...e,isPlaying:!1}))},[u.currentTime]),x=(0,r.useCallback)(()=>{u.isPlaying?b():(u.currentTime>=u.totalDuration&&(f.current=0,g(e=>({...e,currentTime:0,currentIndex:0}))),p())},[u.isPlaying,u.currentTime,u.totalDuration,p,b]),y=(0,r.useCallback)(e=>{let t=Math.max(0,Math.min(1,e))*u.totalDuration,r=a(h,t);f.current=t,m.current=null,g(e=>({...e,currentTime:t,currentIndex:r}))},[u.totalDuration,h]),v=(0,r.useCallback)(e=>{f.current=u.currentTime,m.current=null,g(t=>({...t,speed:e}))},[u.currentTime]),k=h[u.currentIndex],j=(null==k?void 0:k.snapshot)??null,w=u.totalDuration>0?u.currentTime/u.totalDuration:0;if(null!=k&&k.typingCommand&&k.typingDuration){let e=Math.floor(Math.min((u.currentTime-k.startTime)/k.typingDuration,1)*k.typingCommand.length);l=k.typingCommand.slice(0,e)}return{currentSnapshot:j,isPlaying:u.isPlaying,progress:w,currentTime:u.currentTime,totalDuration:u.totalDuration,speed:u.speed,typingText:l,isTyping:(null==k?void 0:k.isTyping)??!1,play:p,pause:b,toggle:x,seek:y,setSpeed:v}}(M,{speed:c,loop:s,autoPlay:i,onComplete:w,typingSpeed:v}),R=f[(_=u||(null==M?void 0:M.metadata.theme)||"dracula").toLowerCase()]||(console.warn(`Unknown theme: ${_}, falling back to dracula`),f.dracula),D=j||(null==M?void 0:M.metadata.script_file)||"Terminal";B&&S&&S(B),M&&T&&T(M);let A=(null==M?void 0:M.metadata.terminal_size)||[80,24];if($){let e=(0,t.jsx)("div",{style:{backgroundColor:R.background,padding:"24px",color:R.foreground,fontFamily:"ui-monospace, monospace"},children:(0,t.jsx)(b,{theme:R})});return k?(0,t.jsx)("div",{className:`reterm-player reterm-loading ${C||""}`,style:N,children:(0,t.jsx)(d,{title:D,theme:R,children:e})}):(0,t.jsx)("div",{className:`reterm-player reterm-loading ${C||""}`,style:{borderRadius:"8px",overflow:"hidden",...N},children:e})}if(B){let e=(0,t.jsxs)("div",{style:{backgroundColor:R.background,padding:"24px",color:R.red,fontFamily:"ui-monospace, monospace"},children:["Error: ",B.message]});return k?(0,t.jsx)("div",{className:`reterm-player reterm-error ${C||""}`,style:N,children:(0,t.jsx)(d,{title:D,theme:R,children:e})}):(0,t.jsx)("div",{className:`reterm-player reterm-error ${C||""}`,style:{borderRadius:"8px",overflow:"hidden",...N},children:e})}let F=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{snapshot:P.currentSnapshot,theme:R,dimensions:A,fontSize:m,fontFamily:p,showCursor:x,cursorStyle:y,typingText:P.typingText,isTyping:P.isTyping}),h&&(0,t.jsx)(g,{isPlaying:P.isPlaying,progress:P.progress,currentTime:P.currentTime,totalDuration:P.totalDuration,speed:P.speed,theme:R,onToggle:P.toggle,onSeek:P.seek,onSpeedChange:P.setSpeed})]});return k?(0,t.jsx)("div",{className:`reterm-player ${C||""}`,style:{display:"block",maxWidth:"100%",...N},children:(0,t.jsx)(d,{title:D,theme:R,children:F})}):(0,t.jsx)("div",{className:`reterm-player ${C||""}`,style:{display:"block",maxWidth:"100%",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",...N},children:F})}function b({theme:e}){return(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)("div",{style:{width:"20px",height:"20px",border:`2px solid ${e.foreground}33`,borderTopColor:e.foreground,borderRadius:"50%",animation:"reterm-spin 1s linear infinite"}}),"Loading recording..."]})}function x({src:e,autoPlay:r=!1,loop:n=!0,speed:a=1}){return(0,t.jsx)("div",{className:"my-6",children:(0,t.jsx)(p,{src:e,autoPlay:r,loop:n,speed:a,showControls:!0,theme:"dracula",fontSize:14})})}e.s(["TerminalDemo",()=>x],90421)}]);